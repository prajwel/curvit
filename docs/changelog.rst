=========
Changelog
=========

.. important::
    If you have an older version, please upgrade::
    
        pip install curvit --upgrade

1.7.2
-----
The aperture radius is mentioned in the zoomed source images.
Colour bars are added to the image plots.
Matplotlib is allowed to use the default backend.

1.7.1
-----
The input source coordinates are included in the :doc:`/api/curve` and
:doc:`/api/curve_orbitwise` functions generated ``source_*png`` and
``source_zoomed_*png`` filenames.

1.7.0
-----
A new parameter, ``ZEF_correction_factor``, has been added to
:doc:`/api/curve`, :doc:`/api/makecurves`, and
:doc:`/api/curve_orbitwise` functions.

1.6.8
-----
The default value of the `min_matches` parameter was changed to 4 from 1.

1.6.7
-----
Replaced the Astroalign package with the Aafitrans package; this change only 
affects the :doc:`/api/combine_events_lists` function.
:doc:`/api/combine_events_lists` function parameters ``NUM_NEAREST_NEIGHBORS`` 
and ``MIN_MATCHES_FRACTION`` have been removed. 
Three new parameters have been added to the :doc:`/api/combine_events_lists` 
function: ``num_nearest_neighbors``, ``min_matches``, and ``pixel_tolerance``.

1.6.6
-----
The events with having a ``FrameCount`` value of 1 are masked. 
This frame contains bad events. 

1.6.5
-----
Bug fix: Background subtraction was not taking place if 
``saturation_correction`` was ``True``. 

1.6.4
-----
A new parameter, ``time_separation``, has been added to the 
:doc:`/api/curve_orbitwise` function.

1.6.3
-----
The saturation correction technique has been made more accurate. 

1.6.2
-----
An internal function that estimates the weighted centroid of all events have 
been improved.

1.6.1
-----
Bug fix: Corrected inaccurate MJD values for orbitwise data points in 
:doc:`/api/curve_orbitwise` function.

1.6.0
-----
Added :doc:`/api/curve_orbitwise` function to create a light curve for a 
source, generating one data point per orbit. 
This function works best with the combined events list produced using 
:doc:`/api/combine_events_lists`.

1.5.9
-----
Replaced the previous fixed image centre value of (2400, 2400) with a 
function call that estimates the weighted centroid of all events.

1.5.8
-----
:doc:`/api/combine_events_lists` function can now be used
to combine already combined events lists from multiple 
observation IDs. 

1.5.7
-----
Bug fix for the :doc:`/api/combine_events_lists` function. 
In the previous versions, the threshold value was not getting
reset after automatic threshold modification. 


1.5.6
----- 
Parameters ``minimum_detections`` and ``maximum_detections`` have been 
added to the :doc:`/api/combine_events_lists` function.
The function will automatically modify the threshold to meet the 
minimum and maximum number of detections criteria.

1.5.5
----- 
The :doc:`/api/combine_events_lists` function has been updated with new
default parameters. 
The function will automatically modify the threshold to limit the 
maximum number of detections to below 200.


1.5.4
-----   
Parameters ``NUM_NEAREST_NEIGHBORS`` and ``MIN_MATCHES_FRACTION`` have been 
added to the :doc:`/api/combine_events_lists` function.

1.5.3
-----   
The FITS file writing bug in the :doc:`/api/image_astrometry` function was fixed. 
This bug was reported by Vikrant Jadhav.
        
1.5.2
-----   
The ``threshold`` parameter has been added to the :doc:`/api/combine_events_lists` 
function.
                
1.5.1
-----
The makefits() function has been renamed to :doc:`/api/make_image`.
        
1.5.0
-----   
Added :doc:`/api/image_astrometry` function to carry out 
astrometry on a UVIT image using Astrometry.net.      
        
1.4.0
-----     
Added :doc:`/api/combine_events_lists` function to combine events lists from 
multiple orbits and create a single combined events list. 

1.3.3
-----     
Curvit now reads and applies the "BAD FLAG" column from the official 
UVIT L2 pipeline (UL2P) generated events lists before processing the data. 
Note that the same "BAD FLAG" column generated by the :doc:`/api/process_ccdlab` 
function is only a placeholder. 

1.3.2
-----
Bug fix for the makefits() function.

1.3.1
-----
Bugfix for background estimation. 
The scaling of the background counts to the source aperture was 
affected by a bug; this has been fixed.

1.2.5
-----
The last release before the publication of Curvit software on JAA 
AstroSat special issue. 

